<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Management System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Notification Toast -->
    <div id="notification" class="notification"></div>

    <!-- Home View -->
    <div id="homeView" class="view active">
        <header class="header">
            <h1>Student Management System</h1>
            <button id="addStudentBtn" class="btn-primary">
                <span class="btn-icon">+</span> Add Student
            </button>
        </header>
        
        <div class="container">
            <div class="data-management-bar">
                <div class="data-info">
                    <span id="dataStatus">Loading data...</span>
                </div>
                <div class="data-actions">
                    <button id="exportDataBtn" class="btn-secondary btn-small">üì• Export Data</button>
                    <button id="importDataBtn" class="btn-secondary btn-small">üì§ Import Data</button>
                    <input type="file" id="importFileInput" accept=".json" style="display: none;">
                </div>
            </div>
            
            <!-- Search Bar -->
            <div class="search-bar" id="searchBar">
                <div class="search-input-wrapper">
                    <span class="search-icon">üîç</span>
                    <input 
                        type="text" 
                        class="search-input" 
                        id="searchInput" 
                        placeholder="Search by name, roll number, or admission number..."
                        autocomplete="off"
                    >
                </div>
                <div class="search-results-info" id="searchResultsInfo"></div>
            </div>

            <!-- Filters and Sort Bar -->
            <div class="filters-bar" id="filtersBar">
                <div class="filters-group">
                    <div class="filter-item">
                        <label for="filterClass">Filter by Class:</label>
                        <select id="filterClass" class="filter-select">
                            <option value="">All Classes</option>
                            <option value="1">Class 1</option>
                            <option value="2">Class 2</option>
                            <option value="3">Class 3</option>
                            <option value="4">Class 4</option>
                            <option value="5">Class 5</option>
                            <option value="6">Class 6</option>
                            <option value="7">Class 7</option>
                            <option value="8">Class 8</option>
                            <option value="9">Class 9</option>
                            <option value="10">Class 10</option>
                            <option value="11">Class 11</option>
                            <option value="12">Class 12</option>
                        </select>
                    </div>

                    <div class="filter-item">
                        <label for="filterSection">Filter by Section:</label>
                        <select id="filterSection" class="filter-select">
                            <option value="">All Sections</option>
                            <option value="Oasis">Oasis</option>
                            <option value="Delta">Delta</option>
                            <option value="Plateau">Plateau</option>
                            <option value="Cliff">Cliff</option>
                        </select>
                    </div>

                    <div class="filter-item">
                        <label for="sortBy">Sort by:</label>
                        <select id="sortBy" class="filter-select">
                            <option value="">Default</option>
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="roll-asc">Roll Number (Low-High)</option>
                            <option value="roll-desc">Roll Number (High-Low)</option>
                            <option value="date-newest">Newest First</option>
                            <option value="date-oldest">Oldest First</option>
                        </select>
                    </div>

                    <button id="clearFiltersBtn" class="btn-clear-filters">
                        ‚úï Clear Filters
                    </button>
                </div>
            </div>
            
            <div id="studentsList" class="students-grid">
                <!-- Student cards will be dynamically added here -->
            </div>
            <div id="emptyState" class="empty-state">
                <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                <h2>No Students Yet</h2>
                <p>Click the "Add Student" button to add your first student</p>
                <div class="empty-state-help">
                    <p><strong>üí° Tip:</strong> If you created students in another browser tab, use "Import Data" to load them here.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Student View -->
    <div id="addStudentView" class="view">
        <header class="header">
            <div class="header-left">
                <button id="backFromAddBtn" class="btn-back">
                    <span>‚Üê</span> Back
                </button>
                <h1>Add New Student</h1>
            </div>
        </header>
        
        <div class="container">
            <form id="addStudentForm" class="student-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstName">First Name <span class="required">*</span></label>
                        <input type="text" id="firstName" name="firstName" required>
                        <span class="error-message" id="firstNameError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="lastName">Last Name <span class="required">*</span></label>
                        <input type="text" id="lastName" name="lastName" required>
                        <span class="error-message" id="lastNameError"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="picture">Profile Picture (Optional)</label>
                    <input type="file" id="picture" name="picture" accept="image/*">
                    <div id="dragDropZone" class="drag-drop-zone">
                        <div class="upload-icon">üì∏</div>
                        <div class="upload-text">
                            <strong>Click to upload</strong> or drag and drop<br>
                            <span class="upload-hint">PNG, JPG, GIF up to 5MB</span>
                        </div>
                    </div>
                    <div id="imagePreview" class="image-preview"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="rollNo">Roll Number <span class="required">*</span></label>
                        <input type="text" id="rollNo" name="rollNo" required>
                        <span class="error-message" id="rollNoError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="admissionNo">Admission Number <span class="required">*</span></label>
                        <input type="text" id="admissionNo" name="admissionNo" required>
                        <span class="error-message" id="admissionNoError"></span>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="class">Class <span class="required">*</span></label>
                        <select id="class" name="class" required>
                            <option value="">Select Class</option>
                            <option value="1">Class 1</option>
                            <option value="2">Class 2</option>
                            <option value="3">Class 3</option>
                            <option value="4">Class 4</option>
                            <option value="5">Class 5</option>
                            <option value="6">Class 6</option>
                            <option value="7">Class 7</option>
                            <option value="8">Class 8</option>
                            <option value="9">Class 9</option>
                            <option value="10">Class 10</option>
                            <option value="11">Class 11</option>
                            <option value="12">Class 12</option>
                        </select>
                        <span class="error-message" id="classError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="section">Section <span class="required">*</span></label>
                        <select id="section" name="section" required>
                            <option value="">Select Section</option>
                            <option value="Oasis">Oasis</option>
                            <option value="Delta">Delta</option>
                            <option value="Plateau">Plateau</option>
                            <option value="Cliff">Cliff</option>
                        </select>
                        <span class="error-message" id="sectionError"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="dob">Date of Birth <span class="required">*</span></label>
                    <input type="date" id="dob" name="dob" required>
                    <span class="error-message" id="dobError"></span>
                </div>

                <div class="form-actions">
                    <button type="button" id="cancelBtn" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary">Add Student</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Student View -->
    <div id="editStudentView" class="view">
        <header class="header">
            <div class="header-left">
                <button id="backFromEditBtn" class="btn-back">
                    <span>‚Üê</span> Back
                </button>
                <h1>Edit Student</h1>
            </div>
        </header>
        
        <div class="container">
            <form id="editStudentForm" class="student-form">
                <input type="hidden" id="editStudentId">
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="editFirstName">First Name <span class="required">*</span></label>
                        <input type="text" id="editFirstName" name="firstName" required>
                        <span class="error-message" id="editFirstNameError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="editLastName">Last Name <span class="required">*</span></label>
                        <input type="text" id="editLastName" name="lastName" required>
                        <span class="error-message" id="editLastNameError"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="editPicture">Profile Picture (Optional)</label>
                    <input type="file" id="editPicture" name="picture" accept="image/*">
                    <div id="editDragDropZone" class="drag-drop-zone">
                        <div class="upload-icon">üì∏</div>
                        <div class="upload-text">
                            <strong>Click to upload</strong> or drag and drop<br>
                            <span class="upload-hint">PNG, JPG, GIF up to 5MB</span>
                        </div>
                    </div>
                    <div id="editImagePreview" class="image-preview"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editRollNo">Roll Number <span class="required">*</span></label>
                        <input type="text" id="editRollNo" name="rollNo" required>
                        <span class="error-message" id="editRollNoError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="editAdmissionNo">Admission Number <span class="required">*</span></label>
                        <input type="text" id="editAdmissionNo" name="admissionNo" required>
                        <span class="error-message" id="editAdmissionNoError"></span>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editClass">Class <span class="required">*</span></label>
                        <select id="editClass" name="class" required>
                            <option value="">Select Class</option>
                            <option value="1">Class 1</option>
                            <option value="2">Class 2</option>
                            <option value="3">Class 3</option>
                            <option value="4">Class 4</option>
                            <option value="5">Class 5</option>
                            <option value="6">Class 6</option>
                            <option value="7">Class 7</option>
                            <option value="8">Class 8</option>
                            <option value="9">Class 9</option>
                            <option value="10">Class 10</option>
                            <option value="11">Class 11</option>
                            <option value="12">Class 12</option>
                        </select>
                        <span class="error-message" id="editClassError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="editSection">Section <span class="required">*</span></label>
                        <select id="editSection" name="section" required>
                            <option value="">Select Section</option>
                            <option value="Oasis">Oasis</option>
                            <option value="Delta">Delta</option>
                            <option value="Plateau">Plateau</option>
                            <option value="Cliff">Cliff</option>
                        </select>
                        <span class="error-message" id="editSectionError"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="editDob">Date of Birth <span class="required">*</span></label>
                    <input type="date" id="editDob" name="dob" required>
                    <span class="error-message" id="editDobError"></span>
                </div>

                <div class="form-actions">
                    <button type="button" id="cancelEditBtn" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary">Update Student</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Student Profile View -->
    <div id="profileView" class="view">
        <header class="header">
            <div class="header-left">
                <button id="backFromProfileBtn" class="btn-back">
                    <span>‚Üê</span> Back
                </button>
                <h1>Student Profile</h1>
            </div>
            <div class="profile-actions">
                <button id="printStudentBtn" class="btn-print">
                    üñ®Ô∏è Print Profile
                </button>
                <button id="deleteStudentBtn" class="btn-delete">
                    üóëÔ∏è Delete Student
                </button>
            </div>
        </header>
        
        <div class="container">
            <div class="profile-card">
                <div class="profile-header">
                    <div id="profilePicture" class="profile-picture">
                        <span class="profile-initials"></span>
                    </div>
                    <div class="profile-name">
                        <h2 id="profileName"></h2>
                        <p id="profileClass"></p>
                    </div>
                </div>
                
                <div class="profile-details">
                    <div class="detail-item">
                        <span class="detail-label">Roll Number</span>
                        <span class="detail-value" id="profileRollNo"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Admission Number</span>
                        <span class="detail-value" id="profileAdmissionNo"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Class</span>
                        <span class="detail-value" id="profileClassValue"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Section</span>
                        <span class="detail-value" id="profileSection"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Date of Birth</span>
                        <span class="detail-value" id="profileDob"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
